<div class="text-center py-2">
    <div class="flex items-center justify-center gap-2 mb-1">
        <app-icon name="slot-machine"></app-icon>
        <h1 class="text-2xl font-display font-bold text-white">Slots</h1>
    </div>
    <p class="text-sm text-white/40">{{ totalGames() }} games available</p>
</div>

<div class="pb-4">
    @if (isLoading() && filteredGames.length === 0) {
        <app-loader></app-loader>
    } @else {
        <div class="flex gap-2 overflow-x-auto no-scrollbar px-4 py-3">
            <button (click)="selectProvider('All')" [class.bg-primary]="selectedProvider() === 'All'"
                [class.bg-white/5]="selectedProvider() !== 'All'" [class.text-white]="selectedProvider() === 'All'"
                [class.text-white/60]="selectedProvider() !== 'All'"
                class="px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-colors cursor-pointer">
                All
            </button>
            @for (provider of providers(); track provider.name) {
            <button (click)="selectProvider(provider.name)" [class.bg-primary]="selectedProvider() === provider.name"
                [class.bg-white/5]="selectedProvider() !== provider.name"
                [class.text-white]="selectedProvider() === provider.name"
                [class.text-white/60]="selectedProvider() !== provider.name"
                class="px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-colors cursor-pointer">
                {{ provider.name | titlecase }}
            </button>
            }
        </div>

        <div class="grid grid-cols-3 md:grid-cols-5 gap-3 pt-2 px-4">
            @for (game of filteredGames; track game.id) {
            <app-game-card [game]="game"></app-game-card>
            }
        </div>
    }

    <div #sentinel class="h-px w-full"></div>

    @if (isLoading() && filteredGames.length > 0) {
        <div class="flex justify-center py-4">
            <app-loader></app-loader>
        </div>
    }
</div>