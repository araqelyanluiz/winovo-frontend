<div class="relative w-full py-6 md:py-8" style="height: 250px;" class="max-[425px]:!h-[250px] min-[425px]:!h-[250px]">
  @if (slides.length === 0) {
    <!-- Empty state -->
    <div class="flex items-center justify-center h-full text-gray-400 text-sm">
      No promo slides available
    </div>
  } @else {
    <!-- Viewport -->
    <div class="relative overflow-hidden pl-4 pr-4">
      <!-- Track -->
      <div
        #track
        class="flex gap-4 scroll-smooth snap-x snap-mandatory overflow-x-auto scrollbar-hide"
        [style.scroll-padding-left.px]="peekPx"
        (pointerdown)="onPointerDown($event)"
        (pointermove)="onPointerMove($event)"
        (pointerup)="onPointerUp($event)"
        (pointercancel)="onPointerCancel()"
        (scroll)="onScroll()"
        (mouseenter)="onMouseEnter()"
        (mouseleave)="onMouseLeave()"
      >
        @for (slide of slides; track $index) {
          <div
            class="flex-[0_0_auto] snap-center w-[calc(100%-2*var(--peek))] md:w-[78%] cursor-pointer select-none"
            [style.--peek]="peekPx + 'px'"
            (click)="onSlideClick($index)"
          >
            <!-- Card -->
            <div
              class="relative rounded-xl md:rounded-2xl overflow-hidden transition-transform duration-300 hover:scale-[1.02] shadow-2xl h-[180px] md:h-[240px] background-repeat-none bg-center bg-cover"
              [style.background-image]="slide.backgroundImage"
            >
              
            </div>
          </div>
        }
      </div>
    </div>

    <!-- Pagination dots -->
    @if (slides.length > 1) {
      <div class="flex items-center justify-center gap-2 mt-6">
        @for (slide of slides; track $index; let i = $index) {
          <button
            class="transition-all duration-300 rounded-full"
            [class.w-8]="i === currentIndex()"
            [class.w-2]="i !== currentIndex()"
            [class.h-2]="true"
            [class.bg-purple-500]="i === currentIndex()"
            [class.bg-white/30]="i !== currentIndex()"
            (click)="goToSlide(i)"
            [attr.aria-label]="'Go to slide ' + (i + 1)"
            [attr.aria-current]="i === currentIndex() ? 'true' : 'false'"
          ></button>
        }
      </div>
    }
  }
</div>
